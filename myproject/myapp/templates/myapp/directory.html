<!DOCTYPE html>
<html>
  <link href="style.css" rel="stylesheet"/>

<div class="navbar">
  <h1 class="app-name">A.C.E.D.</h1>
  <nav class="nav">
    <a href="scheduler.html" class="nav-elem">Court Scheduler</a>
    <a href="billing.html" class="nav-elem">Billing</a>
    <a href="directory.html" class="nav-elem">Member Directory</a>
    <a href="account.html" class="nav-elem">My Account</a>
    <a href="login.html" class="nav-elem">Log Out</a>
  </nav>
</div>

<center>
  <div class="dir-page">
  <h2 id="dir-title">Search Directory</h2>
<form class="dropdown" method="post">
  <label class="drop-btn" for="search">Select Attribute:</label>
  <select id="attributes">
    <option class="attribute" value="fname">First Name</option>
    <option class="attribute" value="lname">Last Name</option>
    <option class="attribute" value="email">Email</option>
    <option class="attribute" value="number">Phone Number</option>
  </select>
    <input class="searchbar" placeholder="Select attribute, then search value">
    <input id="search-btn" type="submit" value="Search">
</form>
<br> <br>
<button id="view-dir">View Full Directory</button>
</div>

{% if results %}
    <h2>Search Results</h2>
    <table border="1">
        {% if request.session.member_id != 1 and request.session.member_id != 2 %}
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone Number</th>
            </tr>
            {% for result in results %}
                <tr>
                    <td>{{ result.0 }}</td>
                    <td>{{ result.1 }}</td>
                    <td>{{ result.2 }}</td>
                    <td>{{ result.3 }}</td>
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <th>Member ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Guest Passes</th>
                <th>Opt In Status</th>
                <th>Active Status</th>
            </tr>
            {% for result in results %}
                <tr>
                    <td>{{ result.0 }}</td>
                    <td>{{ result.1 }}</td>
                    <td>{{ result.2 }}</td>
                    <td>{{ result.3 }}</td>
                    <td>{{ result.4 }}</td>
                    <td>{{ result.5 }}</td>
                    <td>{{ result.6 }}</td>
                    <td>{{ result.7 }}</td>
                </tr>
            {% endfor %}
        {% endif %}
    </table>
{% endif %}
</center>

</html>
