<!DOCTYPE html>
<html>
  <link href="style.css" rel="stylesheet"/>

<div class="navbar">
  <h1 class="app-name">A.C.E.D.</h1>
  <nav class="nav">
    <a href="scheduler.html" class="nav-elem">Court Scheduler</a>
    <a href="billing.html" class="nav-elem">Billing</a>
    <a href="directory.html" class="nav-elem">Member Directory</a>
    <a href="account.html" class="nav-elem">My Account</a>
    <a href="login.html" class="nav-elem">Log Out</a>
  </nav>
</div>
'''
<center>
  <div class="dir-page">
  <h2 id="dir-title">Search Directory</h2>
<form class="dropdown" method="post">
    {% csrf_token %}
    {% if request.session.member_id != 1 and request.session.member_id != 2 %}
        <label class="drop-btn" for="search">Select Attribute:</label>
        <select name = "attribute" id="attribute">
            <option class="attribute" value="firstname">First Name</option>
            <option class="attribute" value="lastname">Last Name</option>
            <option class="attribute" value="email">Email</option>
            <option class="attribute" value="phonenum">Phone Number</option>
        </select>
            <input name = "value" class="searchbar" placeholder="Select attribute, then search value">
            <input id="search-btn" type="submit" value="Search">
    {% else %}
        <label class="drop-btn" for="search">Select Attribute:</label>
        <select name = "attribute" id="attribute">
            <option class="attribute" value="member_id">Member ID</option>
            <option class="attribute" value="firstname">First Name</option>
            <option class="attribute" value="lastname">Last Name</option>
            <option class="attribute" value="email">Email</option>
            <option class="attribute" value="phonenum">Phone Number</option>
            <option class="attribute" value="guestpass">Guest Passes</option>
            <option class="attribute" value="optIN">Opt-In Status</option>
            <option class="attribute" value="active">Active Status</option>
        </select>
            <input name = "value" class="searchbar" placeholder="Select attribute, then search value">
            <input id="search-btn" type="submit" value="Search">
    {% endif %}
    </form>
<br> <br>
<form method="post">
    {% csrf_token %}
    <input name="attribute" type="submit" value="View the Full Directory">
</form>
<button id="view-dir">View Full Directory</button>
</div>

{% if results %}
    <h2>Search Results</h2>
    <table border="1">
        {% if request.session.member_id != 1 and request.session.member_id != 2 %}
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone Number</th>
            </tr>
            {% for result in results %}
                <tr>
                    <td>{{ result.0 }}</td>
                    <td>{{ result.1 }}</td>
                    <td>{{ result.2 }}</td>
                    <td>{{ result.3 }}</td>
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <th>Member ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Guest Passes</th>
                <th>Opt In Status</th>
                <th>Active Status</th>
            </tr>
            {% for result in results %}
                <tr>
                    <td>{{ result.0 }}</td>
                    <td>{{ result.1 }}</td>
                    <td>{{ result.2 }}</td>
                    <td>{{ result.3 }}</td>
                    <td>{{ result.4 }}</td>
                    <td>{{ result.5 }}</td>
                    <td>{{ result.6 }}</td>
                    <td>{{ result.7 }}</td>
                </tr>
            {% endfor %}
        {% endif %}
    </table>
{% endif %}
</center>

</html>
