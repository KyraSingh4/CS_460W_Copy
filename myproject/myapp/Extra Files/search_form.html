<!DOCTYPE html>
<html>
<head>
    <title>Search Directory</title>
</head>
<body>
    <h1>Search Directory</h1>
    <form method="post">
        {% csrf_token %}
        <label for="attribute">Select Attribute:</label>
        <select name="attribute" id="attribute">
            <option value="firstname">First Name</option>
            <option value="lastname">Last Name</option>
            <option value="email">Email</option>
            <option value="phonenum">Phone Number</option>
        </select>
        <label for="value">Enter Value:</label>
        <input type="text" name="value" id="value">
        <button type="submit">Search</button>
    </form>

    {% if results %}
        <h2>Search Results</h2>
        <table border="1">
            {% if request.session.member_id != 1 and request.session.member_id != 2 %}
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Phone Number</th>
                </tr>
                {% for result in results %}
                    <tr>
                        <td>{{ result.0 }}</td>
                        <td>{{ result.1 }}</td>
                        <td>{{ result.2 }}</td>
                        <td>{{ result.3 }}</td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <th>Member ID</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Phone Number</th>
                    <th>Guest Passes</th>
                    <th>Opt In Status</th>
                    <th>Active Status</th>
                </tr>
                {% for result in results %}
                    <tr>
                        <td>{{ result.0 }}</td>
                        <td>{{ result.1 }}</td>
                        <td>{{ result.2 }}</td>
                        <td>{{ result.3 }}</td>
                        <td>{{ result.4 }}</td>
                        <td>{{ result.5 }}</td>
                        <td>{{ result.6 }}</td>
                        <td>{{ result.7 }}</td>
                    </tr>
                {% endfor %}
            {% endif %}
        </table>
    {% endif %}
</body>
</html>